% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_sa_improvements.R
\name{plot_sa_improvements}
\alias{plot_sa_improvements}
\title{Plot objective and auxiliary traces at improvement steps}
\usage{
plot_sa_improvements(
  H_trace,
  F_trace,
  tol = 0,
  col_H = "blue",
  col_F = "red",
  legend = TRUE,
  legend_pos = "topright",
  lwd = 2,
  xlab = "Improvement #",
  ylab = "Value",
  add = FALSE,
  ...
)
}
\arguments{
\item{H_trace}{Numeric vector of objective values \eqn{H(x)} per proposal
(e.g., \code{sa_res$H_trace}).}

\item{F_trace}{Numeric vector of auxiliary values \code{F(x)} aligned with
\code{H_trace} (same length as \code{H_trace}).}

\item{tol}{Non-negative numeric scalar. Minimum decrease required for an
iteration to count as a new best (default \code{0} = any strict decrease).}

\item{col_H, col_F}{Colors for the \code{H} and \code{F} lines.}

\item{legend}{Logical; add a legend (default \code{TRUE}).}

\item{legend_pos}{Legend position passed to \code{\link[graphics]{legend}}
(default \code{"topright"}).}

\item{lwd}{Line width for both series (default \code{2}).}

\item{xlab, ylab}{Axis labels.}

\item{add}{Logical; if \code{TRUE}, add to an existing plot instead of
creating a new one.}

\item{...}{Additional arguments passed to \code{\link[graphics]{plot}}
(when \code{add = FALSE}) or ignored (when \code{add = TRUE}).}
}
\value{
Invisibly returns a list with:
\itemize{
\item \code{indices}: integer indices of improvement iterations;
\item \code{Hx}: \code{H_trace[indices]};
\item \code{Fx}: \code{F_trace[indices]}.
}
If no improvements are found, nothing is plotted and the returned vectors are empty.
}
\description{
Filters a simulated annealing run to the iterations where the objective
\eqn{H(x)} achieves a new best (optionally requiring a minimum decrease
\code{tol}), and plots the corresponding \code{H} and \code{F} values
at those improvement steps.
}
\details{
This is useful for diagnosing whether reductions in the main objective
\eqn{H} coincide with desirable changes in an auxiliary score \code{F}
(e.g., a component of the objective reported by your solver).
}
\examples{
\dontrun{
# Given a run result 'sa_res' with H_trace and F_trace:
plot_sa_improvements(sa_res$H_trace, sa_res$F_trace, tol = 1e-6)

# Add to an existing plot:
plot_sa_improvements(sa_res$H_trace, sa_res$F_trace, col_H = "black",
                     col_F = "orange", add = FALSE)
}
}
